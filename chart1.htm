<!-- saved from url=(0014)about:internet -->
<html>
<head>
<title>h1</title>
<link rel="icon" href="img/icon.png">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>

<script type="text/javascript">

var measureNames = ["Sum of patients with heart disease"];
var thedata=[
[0,0,629]
,[0,1,331]
,[0,2,119]
,[0,3,179]
,[1,0,8]
,[1,1,2]
,[1,2,5]
,[1,3,1]
,[2,0,4]
,[2,1,3]
,[2,2,1]
,[3,0,6]
,[3,1,2]
,[3,3,4]
,[4,0,2]
,[4,1,1]
,[4,2,1]
,[5,0,12]
,[5,1,8]
,[5,2,2]
,[5,3,2]
,[6,0,5]
,[6,1,3]
,[6,2,1]
,[6,3,1]
,[7,0,0]
,[7,1,0]
,[8,0,10]
,[8,1,4]
,[8,2,2]
,[8,3,4]
,[9,0,7]
,[9,1,3]
,[9,3,4]
,[10,0,16]
,[10,1,13]
,[10,2,3]
,[11,0,5]
,[11,1,2]
,[11,2,1]
,[11,3,2]
,[12,0,13]
,[12,1,9]
,[12,2,2]
,[12,3,2]
,[13,0,6]
,[13,1,4]
,[13,3,2]
,[14,0,5]
,[14,1,1]
,[14,3,4]
,[15,0,12]
,[15,1,7]
,[15,2,4]
,[15,3,1]
,[16,0,5]
,[16,1,2]
,[16,2,1]
,[16,3,2]
,[17,0,7]
,[17,1,3]
,[17,2,4]
,[18,0,10]
,[18,1,3]
,[18,2,5]
,[18,3,2]
,[19,0,5]
,[19,1,1]
,[19,2,2]
,[19,3,2]
,[20,0,28]
,[20,1,18]
,[20,2,4]
,[20,3,6]
,[21,0,4]
,[21,1,2]
,[21,2,2]
,[21,3,0]
,[22,0,16]
,[22,1,7]
,[22,2,7]
,[22,3,2]
,[23,0,6]
,[23,1,3]
,[23,2,2]
,[23,3,1]
,[24,0,9]
,[24,1,4]
,[24,2,3]
,[24,3,2]
,[25,0,22]
,[25,1,12]
,[25,2,3]
,[25,3,7]
,[26,0,11]
,[26,1,6]
,[26,2,1]
,[26,3,4]
,[27,0,7]
,[27,1,4]
,[27,2,0]
,[27,3,3]
,[28,0,12]
,[28,1,8]
,[28,2,2]
,[28,3,2]
,[29,0,4]
,[29,1,0]
,[29,2,2]
,[29,3,2]
,[30,0,24]
,[30,1,12]
,[30,2,7]
,[30,3,5]
,[31,0,6]
,[31,1,2]
,[31,2,2]
,[31,3,2]
,[32,0,12]
,[32,1,4]
,[32,3,8]
,[33,0,3]
,[33,1,0]
,[33,2,1]
,[33,3,2]
,[34,0,5]
,[34,1,4]
,[34,2,0]
,[34,3,1]
,[35,0,6]
,[35,1,3]
,[35,2,2]
,[35,3,1]
,[36,0,5]
,[36,1,3]
,[36,2,0]
,[36,3,2]
,[37,0,0]
,[37,1,0]
,[37,2,0]
,[38,0,6]
,[38,1,3]
,[38,2,1]
,[38,3,2]
,[39,0,3]
,[39,1,3]
,[39,2,0]
,[39,3,0]
,[40,0,26]
,[40,1,14]
,[40,2,9]
,[40,3,3]
,[41,0,6]
,[41,1,4]
,[41,2,0]
,[41,3,2]
,[42,0,9]
,[42,1,3]
,[42,2,0]
,[42,3,6]
,[43,0,7]
,[43,1,6]
,[43,3,1]
,[44,0,10]
,[44,1,3]
,[44,2,2]
,[44,3,5]
,[45,0,12]
,[45,1,5]
,[45,2,3]
,[45,3,4]
,[46,0,5]
,[46,1,0]
,[46,2,0]
,[46,3,5]
,[47,0,6]
,[47,1,2]
,[47,3,4]
,[48,0,5]
,[48,1,2]
,[48,2,3]
,[48,3,0]
,[49,0,4]
,[49,1,1]
,[49,2,2]
,[49,3,1]
,[50,0,27]
,[50,1,15]
,[50,2,2]
,[50,3,10]
,[51,0,0]
,[51,1,0]
,[51,3,0]
,[52,0,5]
,[52,1,3]
,[52,3,2]
,[53,0,3]
,[53,1,1]
,[53,2,0]
,[53,3,2]
,[54,0,7]
,[54,1,3]
,[54,2,2]
,[54,3,2]
,[55,0,8]
,[55,1,3]
,[55,2,1]
,[55,3,4]
,[56,0,8]
,[56,1,5]
,[56,2,1]
,[56,3,2]
,[57,0,4]
,[57,1,1]
,[57,2,1]
,[57,3,2]
,[58,0,7]
,[58,1,2]
,[58,2,1]
,[58,3,4]
,[59,0,3]
,[59,1,1]
,[59,3,2]
,[60,0,10]
,[60,1,5]
,[60,2,1]
,[60,3,4]
,[61,0,5]
,[61,1,3]
,[61,3,2]
,[62,0,6]
,[62,1,3]
,[62,2,1]
,[62,3,2]
,[63,0,5]
,[63,1,4]
,[63,2,1]
,[63,3,0]
,[64,0,1]
,[64,1,0]
,[64,2,0]
,[64,3,1]
,[65,0,5]
,[65,1,3]
,[65,3,2]
,[66,0,4]
,[66,1,2]
,[66,3,2]
,[67,0,0]
,[67,1,0]
,[67,3,0]
,[68,0,4]
,[68,1,4]
,[68,2,0]
,[68,3,0]
,[69,0,4]
,[69,1,2]
,[69,3,2]
,[70,0,7]
,[70,1,5]
,[70,2,0]
,[70,3,2]
,[71,0,2]
,[71,1,0]
,[71,3,2]
,[72,0,0]
,[72,1,0]
,[72,3,0]
,[73,0,4]
,[73,1,2]
,[73,3,2]
,[74,0,3]
,[74,1,0]
,[74,3,3]
,[75,0,3]
,[75,1,3]
,[75,2,0]
,[75,3,0]
,[76,0,1]
,[76,1,1]
,[76,2,0]
,[77,0,2]
,[77,3,2]
,[78,0,0]
,[78,1,0]
,[78,3,0]
,[79,0,0]
,[79,1,0]
,[80,0,2]
,[80,1,1]
,[80,2,1]
,[80,3,0]
,[81,0,2]
,[81,1,2]
,[82,0,3]
,[82,1,3]
,[82,3,0]
,[83,0,0]
,[83,1,0]
,[83,2,0]
,[84,0,0]
,[84,1,0]
,[84,2,0]
,[84,3,0]
,[85,0,0]
,[85,3,0]
,[86,0,0]
,[86,1,0]
,[87,0,0]
,[87,1,0]
,[87,3,0]
,[88,0,0]
,[88,1,0]
,[88,3,0]
,[89,0,0]
,[89,1,0]
,[90,0,0]
,[90,1,0]
,[91,0,2]
,[91,3,2]
,[92,0,0]
,[92,3,0]
,[93,0,1]
,[93,1,1]
,[94,0,1]
,[94,1,1]
,[95,0,1]
,[95,2,1]
,[96,0,0]
,[96,1,0]
,[97,0,1]
,[97,2,1]
,[98,0,2]
,[98,1,2]
,[99,0,2]
,[99,1,2]
,[100,0,1]
,[100,1,1]
,[101,0,1]
,[101,1,1]
,[102,0,1]
,[102,2,1]
,[103,0,1]
,[103,1,1]
,[104,0,3]
,[104,1,1]
,[104,2,2]
,[105,0,1]
,[105,1,1]
,[106,0,3]
,[106,1,2]
,[106,3,1]
,[107,0,2]
,[107,1,1]
,[107,2,1]
,[107,3,0]
,[108,0,1]
,[108,1,1]
,[109,0,3]
,[109,1,2]
,[109,2,1]
,[110,0,2]
,[110,1,1]
,[110,3,1]
,[111,0,1]
,[111,1,1]
,[112,0,6]
,[112,1,3]
,[112,2,3]
,[113,0,2]
,[113,1,1]
,[113,3,1]
,[114,0,4]
,[114,1,4]
,[115,0,3]
,[115,1,3]
,[116,0,5]
,[116,1,2]
,[116,2,1]
,[116,3,2]
,[117,0,3]
,[117,1,2]
,[117,2,1]
,[118,0,7]
,[118,1,7]
,[118,2,0]
,[119,0,7]
,[119,1,4]
,[119,2,3]
,[119,3,0]
];
var nofilter = false;
var therows = [
["All max_heart_rate",-1,0,0,""]
,["100",0,0,0,""]
,["102",0,0,0,""]
,["103",0,0,0,""]
,["104",0,0,0,""]
,["105",0,0,0,""]
,["106",0,0,0,""]
,["107",0,0,0,""]
,["108",0,0,0,""]
,["109",0,0,0,""]
,["110",0,0,0,""]
,["111",0,0,0,""]
,["112",0,0,0,""]
,["113",0,0,0,""]
,["114",0,0,0,""]
,["115",0,0,0,""]
,["116",0,0,0,""]
,["117",0,0,0,""]
,["118",0,0,0,""]
,["119",0,0,0,""]
,["120",0,0,0,""]
,["121",0,0,0,""]
,["122",0,0,0,""]
,["123",0,0,0,""]
,["124",0,0,0,""]
,["125",0,0,0,""]
,["126",0,0,0,""]
,["127",0,0,0,""]
,["128",0,0,0,""]
,["129",0,0,0,""]
,["130",0,0,0,""]
,["131",0,0,0,""]
,["132",0,0,0,""]
,["133",0,0,0,""]
,["134",0,0,0,""]
,["135",0,0,0,""]
,["136",0,0,0,""]
,["137",0,0,0,""]
,["138",0,0,0,""]
,["139",0,0,0,""]
,["140",0,0,0,""]
,["141",0,0,0,""]
,["142",0,0,0,""]
,["143",0,0,0,""]
,["144",0,0,0,""]
,["145",0,0,0,""]
,["146",0,0,0,""]
,["147",0,0,0,""]
,["148",0,0,0,""]
,["149",0,0,0,""]
,["150",0,0,0,""]
,["151",0,0,0,""]
,["152",0,0,0,""]
,["153",0,0,0,""]
,["154",0,0,0,""]
,["155",0,0,0,""]
,["156",0,0,0,""]
,["157",0,0,0,""]
,["158",0,0,0,""]
,["159",0,0,0,""]
,["160",0,0,0,""]
,["161",0,0,0,""]
,["162",0,0,0,""]
,["163",0,0,0,""]
,["164",0,0,0,""]
,["165",0,0,0,""]
,["166",0,0,0,""]
,["167",0,0,0,""]
,["168",0,0,0,""]
,["169",0,0,0,""]
,["170",0,0,0,""]
,["171",0,0,0,""]
,["172",0,0,0,""]
,["173",0,0,0,""]
,["174",0,0,0,""]
,["175",0,0,0,""]
,["176",0,0,0,""]
,["177",0,0,0,""]
,["178",0,0,0,""]
,["179",0,0,0,""]
,["180",0,0,0,""]
,["181",0,0,0,""]
,["182",0,0,0,""]
,["184",0,0,0,""]
,["185",0,0,0,""]
,["186",0,0,0,""]
,["187",0,0,0,""]
,["188",0,0,0,""]
,["190",0,0,0,""]
,["192",0,0,0,""]
,["194",0,0,0,""]
,["195",0,0,0,""]
,["202",0,0,0,""]
,["60",0,0,0,""]
,["63",0,0,0,""]
,["67",0,0,0,""]
,["69",0,0,0,""]
,["70",0,0,0,""]
,["71",0,0,0,""]
,["72",0,0,0,""]
,["73",0,0,0,""]
,["77",0,0,0,""]
,["78",0,0,0,""]
,["80",0,0,0,""]
,["82",0,0,0,""]
,["83",0,0,0,""]
,["84",0,0,0,""]
,["86",0,0,0,""]
,["87",0,0,0,""]
,["88",0,0,0,""]
,["90",0,0,0,""]
,["91",0,0,0,""]
,["92",0,0,0,""]
,["93",0,0,0,""]
,["94",0,0,0,""]
,["95",0,0,0,""]
,["96",0,0,0,""]
,["97",0,0,0,""]
,["98",0,0,0,""]
,["99",0,0,0,""]
];
var thefilter = [
["All resting_ecg",-1,0,0,""]
,["0",0,0,0,""]
,["1",0,0,0,""]
,["2",0,0,0,""]
];

if("column"=="treemap")
  google.charts.load("current", {packages:['treemap']});
else
  google.charts.load("current", {packages:['corechart']});

google.charts.setOnLoadCallback(drawChartInit);
window.onresize = myResize;

var pagerows;
var pagecols;

var firstMember=1;
var filterIndex=firstMember;

var posfirstmeasure=2;
var posmeas1=posfirstmeasure;
var posmeas2=posfirstmeasure+1;
var posmeas3=posfirstmeasure+2;

var posrow=0;
var posfilter=1;
var poscol=-1;

var chart=null;
var play;
var timerId;
var timerId2;
var data;
var nbrows=0;
var nbcols=0;
var countries;

var allcharts=[{title:"Demo17",filename:"chart5.htm",guid:"0DB63E27FF8D4212858CC5D4A4EFF614"},{title:"Demo15",filename:"chart3.htm",guid:"147D7828EFF5495C95458E8CBA2DA82A"},{title:"Demo9",filename:"chart4.htm",guid:"258013B4E9CF4C19A004294D5F2BDEF5"},{title:"Demo12",filename:"chart2.htm",guid:"261E44EF97374484A4BE47FD97A2B6CC"},{title:"Demo2",filename:"chart2.htm",guid:"2A862094CD3E4CC6B6548C6E9F4ADC2F"},{title:"Demo16",filename:"chart4.htm",guid:"2FC432068F2B43BAA5EB409679454993"},{title:"Demo5",filename:"chart5.htm",guid:"4125F3DFB33541A080E55C5E14D442C7"},{title:"h1",filename:"chart1.htm",guid:"47608885A2F24DD197571F5A9B16E2D2"},{title:"Demo8",filename:"chart3.htm",guid:"4A0318B204DB4245937EB2123E0477BE"},{title:"Demo6",filename:"chart1.htm",guid:"50E653372033405EA27A31AFED9110C2"},{title:"Demo11",filename:"chart1.htm",guid:"68544686A87C4EF788FC5D6F3DB4B290"},{title:"Demo1",filename:"chart1.htm",guid:"72502F45AF31475F8510A7797267B63F"},{title:"Demo3",filename:"chart3.htm",guid:"7EAB3B69DAEB47C79877FE22A0E244BC"},{title:"Demo2",filename:"chart2.htm",guid:"88D2248A5D664AECA3D6672A8E9C5D6A"},{title:"h1",filename:"chart1.htm",guid:"8A7EC7CC42824D42BCFFFEC747EF200D"},{title:"h1",filename:"chart1.htm",guid:"B3B73AEDB0C3478E9351876DE6EFFB41"},{title:"Demo14",filename:"chart2.htm",guid:"B769260D4B0E477BAAD1380CC9976160"},{title:"Demo19",filename:"chart2.htm",guid:"C7E6051333BB47E18C5722724D8A495C"},{title:"Demo13",filename:"chart1.htm",guid:"C83DD759210D4AA5B1B200882DBBF141"},{title:"Demo7",filename:"chart2.htm",guid:"DD4BF237B3BA460E8E9EAFEC52AACFEA"},{title:"Demo10",filename:"chart5.htm",guid:"EA3028467958468CA50632F18F555C00"},{title:"Demo18",filename:"chart1.htm",guid:"ED7A97714D9F4AFD88C8F30C8ABF437E"},{title:"Demo4",filename:"chart4.htm",guid:"F1E00859D9304FCEA78B678813718CE7"},{title:"Demo20",filename:"chart3.htm",guid:"F2F894F2718742C28807597B49C6EB22"}];

function myFunctionNext() {
	redrawChart(1);
}

function myFunctionPrev() {
	redrawChart(-1);
}
function setopacity() {
document.getElementById("btn_pause").className = "btnpause opacity1";
}
function drawChartInit() {

  firstMember=1;
  if('false'=="true")
    firstMember=0;

  filterIndex=firstMember;

  pagerows=0;
  pagecols=0;
  drawChart();

  displayPlayButtons();

  play=false;

  if(nofilter==false && 'false'=="true")
  {
    play=true;
    timerId=window.setInterval(redrawChartSimple, 500);
    timerId2=window.setTimeout(setopacity, 5000);
  }
}
function redrawChartSimple() {
  redrawChart(1);
}


function redrawChart(delta) {

  var theselection;
  if(chart!=null)
    theselection=chart.getSelection();

  filterIndex+=delta;

  if(delta>0 && filterIndex>=thefilter.length)
    filterIndex=firstMember;

  if(delta<0 && filterIndex<firstMember)
    filterIndex=thefilter.length-1;

  drawChart();
  chart.setSelection(theselection);
}


function preparePopulate()
{
  for(i=0;i<therows.length;i++)
  {
    therows[i][2]=-2;
    therows[i][3]=-2;
  }
 
  for(i=0;i<thedata.length;i++)
  {
    if(therows[thedata[i][posrow]][1]==pagerows && (nofilter || thedata[i][posfilter]==filterIndex))
    {
      therows[thedata[i][posrow]][2]=1;
    }
  }

  nbrows=0;
  for(i=0;i<therows.length;i++)
  {
    if(therows[i][2]==1)
    {
      therows[i][3]=nbrows;
      nbrows++;
    }
  }
}

function preparePopulateDouble()
{
  for(i=0;i<therows.length;i++)
  {
    therows[i][2]=-2;
    therows[i][3]=-2;
  }

  for(i=0;i<thecols.length;i++)
  {
    thecols[i][2]=-2;
    thecols[i][3]=-2;
  }
 
  for(i=0;i<thedata.length;i++)
  {
    if(therows[thedata[i][posrow]][1]==pagerows && thecols[thedata[i][poscol]][1]==pagecols && (nofilter || thedata[i][posfilter]==filterIndex))
    {
      therows[thedata[i][posrow]][2]=1;
      thecols[thedata[i][poscol]][2]=1;
    }
  }

  nbrows=0;
  for(i=0;i<therows.length;i++)
  {
    if(therows[i][2]==1)
    {
      therows[i][3]=nbrows;
      nbrows++;
    }
  }
  nbcols=1;
  for(i=0;i<thecols.length;i++)
  {
    if(thecols[i][2]==1)
    {
      thecols[i][3]=nbcols;
      nbcols++;
    }
  }
}

function selectHandler(e) {
    var selectedItem = chart.getSelection()[0];
    if (selectedItem) {

      if(selectedItem.row==null)
      {
        document.getElementById('btn_drilldown').style.display = 'none';
        return;
      }

      var value = data.getValue(selectedItem.row, 0);

      if(itemHasChildren(value))
        document.getElementById('btn_drilldown').style.display = 'block';
      else
       document.getElementById('btn_drilldown').style.display = 'none';
    }
    else
    {
      document.getElementById('btn_drilldown').style.display = 'none';
    } 
}

function itemHasChildren(item)
{
  var selectedrow=-1;
  if("column"=="histogram")
  {
    for(i=0;i<therows.length;i++)
    {
      if(therows[i][1]==pagerows && therows[i][0]==item)
      {
        selectedrow=i;
        break;
      }
    }
    if(selectedrow==-1)
      return false;
  }
  else
  {
    selectedrow=item;
  }

  for(i=0;i<therows.length;i++)
  {
    if(therows[i][1]==selectedrow)
      return true;
  }
  return false;
}

function myFunctionCloseFilter(index)
{
  var modal = document.getElementById('myModal');
  modal.style.display = "none";
  filterIndex=index;
  redrawChart(0);
}

function myFunctionRegister()
{
location.href = "http://www.olapcube.com/tr_registerlicense6.asp";
}

function mySearchFunction()
{
 myFunctionFilterSearch(document.getElementById("searchbox").value.toLowerCase());
}

function myFunctionFilter()
{
  myFunctionFilterSearch("");
}

function GetFilterFullName(indexfilter)
{
  var filterfullname="";
  if(indexfilter>=firstMember && indexfilter<thefilter.length)
    filterfullname=thefilter[indexfilter][0];
  else
    return filterfullname;

  var parentfilter=thefilter[indexfilter][1];
 
  while(parentfilter>=firstMember && parentfilter<thefilter.length)
  {  
     filterfullname = thefilter[parentfilter][0] + " / " + filterfullname;
     parentfilter=thefilter[parentfilter][1];  
  }

  return filterfullname;
}

function myFunctionFilterSearch(str)
{
  if(nofilter)
    return;

  var searchBoxLimit=25;
  var maxResults=100;

  var modalFilter = document.getElementById('myModalFilter');

  var html ="";
  var searchhtml ="";
  if(thefilter.length>searchBoxLimit)
  {
    searchhtml ="<p><input type=text id=\"searchbox\"> <button id=\"searchButton\" onclick=\"mySearchFunction()\">Search</button></p>";
  }
  var c=0;
  for(var f=firstMember;f<thefilter.length;f++)
  {
    var myfiltertree = GetFilterFullName(f);

    if(myfiltertree.toLowerCase().indexOf(str)!= -1)
    {
      var chk="unchecked";
      var p_style="";
      if(f==filterIndex)
      {
        chk="checked";
        p_style= " style=\"border-radius: 5px; color: white; background-color: rgb(92,184,92);\"";
      }

      html = html + "<p" + p_style + "><input type=radio id=filter_rad" + f.toString() + " " +  chk + " onclick=\"javascript:myFunctionCloseFilter(" + f.toString() + ");\"><label for=\"filter_rad" + f.toString() + "\">&nbsp;" + myfiltertree + "</label></p>"; 

      c=c+1;

      if(c>maxResults)
        break;
    }
  }
  
  var stats= "";

  if(thefilter.length>searchBoxLimit)
  {
    stats= "<p style=\"font-size:small;font-style:italic;\">" + c + " / " + (thefilter.length-firstMember) + "</p>";
  }

  modalFilter.innerHTML = searchhtml + stats + html;

  var modal = document.getElementById('myModal');
  modal.style.display = "block";

  if(thefilter.length>searchBoxLimit)
  {
    var searchbox=document.getElementById("searchbox");
    searchbox.addEventListener("keyup", function(event) {
      event.preventDefault();
      if (event.keyCode == 13) {
        document.getElementById("searchButton").click();
      }
    });
    searchbox.value=str;
    searchbox.focus();
  }


  if(thefilter.length<searchBoxLimit)
  {
    document.getElementById("filter_rad" + filterIndex).scrollIntoView(false);
  }

  window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
  }
}

function displayPlayButtons()
{
  if(nofilter)
  {
    document.getElementById('btn_previous').style.display = 'none';
    document.getElementById('btn_next').style.display = 'none';
    document.getElementById('btn_pause').style.display = 'none';
    document.getElementById('btn_play').style.display = 'none';
    document.getElementById('btn_filter').style.display = 'none';
    document.getElementById('btn_drilldown').style.display = 'none';
    document.getElementById('btn_drillup').style.display = 'none';
    return;
  }
 
  if(play)
  {
    document.getElementById('btn_previous').style.display = 'none';
    document.getElementById('btn_next').style.display = 'none';
    document.getElementById('btn_pause').style.display = 'block';
    document.getElementById('btn_play').style.display = 'none';
    document.getElementById('btn_drilldown').style.display = 'none';
    document.getElementById('btn_drillup').style.display = 'none';
    document.getElementById('btn_filter').style.display = 'none';
  }
  else
  {
    document.getElementById('btn_previous').style.display = 'block';
    document.getElementById('btn_next').style.display = 'block';
    document.getElementById('btn_pause').style.display = 'none';
    document.getElementById('btn_play').style.display = 'block';
    document.getElementById('btn_filter').style.display = 'block';
  }
}

function displayDrillButtons()
{
    var selectedItem=null;
    
    if(chart)
      selecteditem = chart.getSelection()[0];

    if (selectedItem && !play)
    {
       var value = data.getValue(selectedItem.row, 0);
        
       if(itemHasChildren(value))
         document.getElementById('btn_drilldown').style.display = 'block';
       else
         document.getElementById('btn_drilldown').style.display = 'none';
    }
    else
    {
      document.getElementById('btn_drilldown').style.display = 'none';
    }

   if(pagerows>0 && !play)
   {
     document.getElementById('btn_drillup').style.display = 'block';
   }
   else
   {
     document.getElementById('btn_drillup').style.display = 'none';
   }
}

function myFunctionDrilldown()
{
  var selectedItem = chart.getSelection()[0];

  if (selectedItem) 
  {
    if(selectedItem.row==null)
      return;

    if("column"=="histogram")
    {
	  var selectedrow=-1;
	  var value = data.getValue(selectedItem.row, 0);

      for(i=0;i<therows.length;i++)
	  {
	    if(therows[i][1]==pagerows && therows[i][0]==value)
	    {
		  selectedrow=i;
		  break;
	    }
	  }
	  if(selectedrow==-1)
        return;
  
	  pagerows=selectedrow;
    }
    else
    {
	  var value = data.getValue(selectedItem.row, 0);
	  pagerows=parseInt(value);
	}

	document.getElementById('btn_drillup').style.display = 'block';
    redrawChart(0);
  }
}

function myFunctionDrillup()
{
  if(pagerows>0)
  {
    pagerows = therows[pagerows][1];
  }

  if(pagerows==0)
  {
    document.getElementById('btn_drillup').style.display = 'none';
  }

  drawChart();
}

function myFunctionPlayToggle()
{
  if(play)
  {
    clearInterval(timerId);
    play=false;
  }
  else
  {
    timerId=window.setInterval(redrawChartSimple, 500);
    play=true;
  }

  displayPlayButtons();
  displayDrillButtons();

  return false;
}
function myResize()
{
//alert("resize");
  redrawChart(0);
}
function removeclass(id,myClass)
{
document.getElementById(id).className =
    document.getElementById(id).className.replace(new RegExp('\\b' + myClass + '\\b'),'');
}

function myFunctionCloseMenu(chart_num)
{
  var chartfile = allcharts[chart_num].filename;


  window.location.href = chartfile;
}

function showmenu()
{
  clearInterval(timerId);
  clearInterval(timerId2);
  play=false; 
  displayPlayButtons(); 

  var modal = document.getElementById('myModalMenu');
  modal.style.display = "block";

  var modalContents = document.getElementById('myModalMenuContents');

  var html ="";

  var c=0;
  for(var f=0;f<allcharts.length;f++)
  {
    var chartTitle = allcharts[f].title;

    var chk="unchecked";
    var p_style="";
    if(allcharts[f].guid=="B3B73AEDB0C3478E9351876DE6EFFB41")
    {
      chk="checked";
      p_style= " style=\"border-radius: 5px; color: white; background-color: rgb(92,184,92);\"";
    }

    html = html + "<p" + p_style + "><input type=radio id=menu_rad" + f.toString() + " " +  chk + " onclick=\"javascript:myFunctionCloseMenu(" + f.toString() + ");\"><label for=\"menu_rad" + f.toString() + "\">&nbsp;" + chartTitle + "</label></p>"; 

    c=c+1;
  }


  modalContents.innerHTML = html;

  document.getElementById('menu_rad0').scrollIntoView(false);

  window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
  }
}
function populateTable(mytable) //,hasrightaxis)
{
  var newversion=true;
  if (typeof measureNames == 'undefined') 
  	newversion=false;

  mytable.addColumn('string', 'Label');
  
  if(newversion)
  {
    for(var m=0;m<measureNames.length;m++)
    {
      mytable.addColumn('number', measureNames[m]);
    }
  }
  else
  {
    mytable.addColumn('number', '');
  }

  mytable.addRows(nbrows);
  for(i=0;i<therows.length;i++)
  {
    if(therows[i][2]==1)
    {
      mytable.setCell(therows[i][3],0,i.toString(),therows[i][0]);
    }
  }

  for(i=0;i<thedata.length;i++)
  {
    if(therows[thedata[i][posrow]][1]==pagerows && (nofilter || thedata[i][posfilter]==filterIndex))
    {
      if(newversion)
      {
        for(var m=0;m<measureNames.length;m++)
        {
          mytable.setCell(therows[thedata[i][posrow]][3],1+m,thedata[i][m+posfirstmeasure]);
        }
      }
      else
      {
        mytable.setCell(therows[thedata[i][posrow]][3],1,thedata[i][posmeas1]);
      }     
    }
  }
}

function drawChart() {

    preparePopulate();

    data = new google.visualization.DataTable();
    populateTable(data);

    displayDrillButtons();

    var mytitle='h1';
    if(!nofilter)
    {
      mytitle += '\n';
      mytitle += GetFilterFullName(filterIndex);
    }

    var maindimension= 'max_heart_rate';
    if(pagerows>0)
    {
      maindimension=therows[pagerows][0];
    }
    
    var newversion=true;
    if (typeof measureNames == 'undefined') 
      newversion=false;

    if('vertical'=='vertical')
    {
      if(newversion && measureNames.length==2)
      {
        var options = {
          title: mytitle,
  	  hAxis: {title: maindimension},
 	  vAxes: {0: {title: measureNames[0]},1: {title: measureNames[1]}},
          series:{0:{targetAxisIndex:0},1:{targetAxisIndex:1}},
          legend: {position: 'top'}
         };

        chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
        chart.draw(data, options); 
      }
      else
      {
        var options = {
          title: mytitle,
  	  hAxis: {title: maindimension},
          vAxis: {},
          legend: {position: 'none'}
         };

        if(newversion && measureNames.length>2)
          options["legend"]["position"]='right';

        if(newversion)
        { 
           if(measureNames.length==1)
            options["vAxis"]["title"]= measureNames[0];
        }
	else
        {
          options["vAxis"]["title"]= '';
        }

        chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
        chart.draw(data, options); 
      }
    }
    else
    {
        var options = {
          title: mytitle,
  	  vAxis: {title: maindimension},
          hAxis: {},
          legend: {position: 'none'}
         };

        if(newversion && measureNames.length>=2)
          options["legend"]["position"]='top';

        if(newversion)
        { 
          if(measureNames.length==1)
            options["hAxis"]["title"]= measureNames[0];
        }
	else
        {
          options["hAxis"]["title"]= '';
        }

        chart = new google.visualization.BarChart(document.getElementById('chart_div'));
        chart.draw(data, options); 

    }

    google.visualization.events.addListener(chart, 'select', selectHandler);
}
</script>

<style>
div.btnregister {
    display:block;
    position: fixed;
    top: 0;
    width: 130px;
    height: 30px;
    border-style: none;
    border-width:1px;
    margin:1;
    background: url("img/register.png") no-repeat;
    background-position: center; 
    left: 50%;
    transform: translateX(-50%);
    opacity: 0.8;
}
div.btnregister:hover { opacity: 1;}

div.btnpause {
    display:none;
    position: fixed;
    top: 0;
    right: 0;
    width: 40px;
    height: 40px;
    border-style: none;
    border-width:1px;
    margin:1;
    background: url("img/pause.svg") no-repeat;
    background-position: center; 
}

div.btnfilter {
    display:none;
    position: fixed;
    opacity:0.6;
    top: 0;
    right: 40;
    width: 40px;
    height: 40px;
    border-style: none;
    border-width:1px;
    margin:1;
    background: url("img/filter.svg") no-repeat;
    background-position: center; 
}

div.btnfilter:hover { opacity: 1;}

.opacity1 { opacity: 0.1;}
.opacity1:hover { opacity: 1;}

.opacity6 { opacity: 0.6;}
.opacity6:hover { opacity: 1;}

div.btnplay {
    display:none;
    position: fixed;
    top: 0;
    right: 0;
    width: 40px;
    height: 40px;
    border-style: none;
    border-width:1px;
    margin:1;
    opacity:0.6;
    background: url("img/play.svg") no-repeat;
    background-position: center; 
}
div.btnplay:hover { opacity: 1;}
div.previous {
    display:none;
    position: fixed;
    bottom: 0;
    left: 0;
    width: 30px;
    height: 40px;
    border-style: none;
    margin: 1;
    opacity:0.6;
    background: url("img/previous.svg") no-repeat;
    background-position: center; 
    z-index: 1;
}
div.previous:hover { opacity: 1;}
div.next {
    display:none;
    position: fixed;
    bottom: 0;
    right: 0;
    width: 30px;
    height: 40px;
    border-style: none;
    margin: 1;
    opacity:0.6;
    background: url("img/next.svg") no-repeat;
    background-position: center; 
    z-index: 2;
}
div.next:hover { opacity: 1;}

div.btndrilldown {
    display:none;
    position: fixed;
    bottom: 0;
    right: 0;
    width: 40px;
    height: 50px;
    border-style: none;
    margin-right: 40;
    margin-bottom: 1;
    opacity:0.6;
    background: url("img/drilldown.svg") no-repeat;
    background-position: center; 
    z-index: 3;
}

div.btndrilldown:hover { opacity: 1;}

div.btndrillup {
    display:none;
    position: fixed;
    bottom: 0;
    left: 0;
    width: 40px;
    height: 50px;
    border-style: none;
    margin-left: 40;
    margin-bottom: 1;
    opacity:0.6;
    background: url("img/drillup.svg") no-repeat;
    background-position: center; 
    z-index: 4;
}

div.btndrillup:hover { opacity: 1;}

body {
   margin: 1;
   padding: 0;
}
div.btnmenu {
    position: fixed;
    opacity:0.6;
    top: 0;
    left: 0;
    width: 40px;
    height: 40px;
    border-style: none;
border-width:1px;
    margin:0;
    background: url("img/menu.svg") no-repeat;
    background-position: center; 

z-index:5;
}

div.btnmenu:hover { opacity: 1;}

.show {display:block;}


/* The Modal (background) */
.modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 10; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content */
.modal-content {
    position: relative;
    background-color: #fefefe;
    margin-top: 50px;
    margin-bottom: 10px;
    margin-left:auto;
    margin-right:auto;
    border: 1px solid #888;
    border-radius: 8px;
    width: 80%;
    font-family: Arial, Helvetica, sans-serif;
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
}

/* The Close Button */
.close {
    color: white;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
}

.modal-header {
    padding: 2px 16px;
    background-color: #5cb85c;
    color: white;
}

.modal-body {padding: 2px 16px;}

.modal-footer {
    padding: 2px 16px;
    background-color: #5cb85c;
    color: white;
}

</style>

</head>
<body>
<div id="chart_div" style="border-style: none;width:100%;height:100%;box-sizing: border-box;"></div>
<div id="menuBtn" class="btnmenu" onclick="javascript:showmenu()"></div>
<div id="myModalMenu" class="modal">
  <div class="modal-content">
    <div class="modal-body" id="myModalMenuContents">
    </diV>
  </div>
</div>
<div id="btn_register" class="btnregister" onclick="javascript:myFunctionRegister()"></div>
<div id="btn_previous" class="previous" onclick="javascript:myFunctionPrev()"></div>
<div id="btn_next" class="next" onclick="javascript:myFunctionNext()"></div>
<div id="btn_play" class="btnplay" onclick="javascript:myFunctionPlayToggle()"></div>
<div id="btn_pause" class="btnpause opacity6" onclick="javascript:myFunctionPlayToggle()"></div>
<div id="btn_drilldown" class="btndrilldown" onclick="javascript:myFunctionDrilldown()"></div>
<div id="btn_drillup" class="btndrillup" onclick="javascript:myFunctionDrillup()"></div>
<div id="btn_filter" class="btnfilter" onclick="javascript:myFunctionFilter()"></div>
<div id="myModal" class="modal">
  <!-- Modal content -->
  <div class="modal-content">
    <div class="modal-body" id="myModalFilter">
    </div>
  </div>
</div>
</body>
</html>

